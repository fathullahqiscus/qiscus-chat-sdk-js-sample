<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<title>Qiscus SDK Javascript Core Example</title>

	<link href="https://fonts.googleapis.com/css?family=Lato|Open+Sans" rel="stylesheet" />
	<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap"
		rel="stylesheet" />
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
		integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous" />
	<link rel="stylesheet" href="css/main.css" />
	<link rel="stylesheet" href="css/icon.css" />
	<link rel="stylesheet" href="css/login-page.css" />
	<link rel="stylesheet" href="css/chat-list-page.css" />
	<link rel="stylesheet" href="css/users-page.css" />
	<link rel="stylesheet" href="css/toolbar.css" />
	<link rel="stylesheet" href="css/create-group.css" />
	<link rel="stylesheet" href="css/profile.css" />
	<link rel="stylesheet" href="css/room-info.css" />
</head>

<body>
	<!-- Landing Page -->
	<div id="landing-page" class="landing-page">
		<div class="landing-container">
			<div class="landing-hero">
				<h1>üöÄ Qiscus Chat SDK</h1>
				<p class="hero-subtitle">Sample Implementation & Testing Environment</p>
			</div>

			<div id="sdk-status" class="sdk-status hidden">
				<h3>SDK Status</h3>
				<div class="status-grid">
					<div class="status-item">
						<span class="status-label">Connection</span>
						<span class="status-value" id="connection-status">Checking...</span>
					</div>
					<div class="status-item">
						<span class="status-label">App ID</span>
						<span class="status-value" id="app-id-display">-</span>
					</div>
					<div class="status-item">
						<span class="status-label">User</span>
						<span class="status-value" id="user-display">Not logged in</span>
					</div>
					<div class="status-item">
						<span class="status-label">Last Update</span>
						<span class="status-value" id="last-update">-</span>
					</div>
					<div class="status-item">
						<span class="status-label">Broker URL</span>
						<span class="status-value" id="broker-url">-</span>
					</div>
					<div class="status-item">
						<span class="status-label">Broker LB URL</span>
						<span class="status-value" id="broker-lb-url">-</span>
					</div>
				</div>
			</div>

			<div id="sdk-config" class="sdk-config hidden">
				<h3>SDK Configuration</h3>
				<div class="config-grid">
					<div class="config-item" title="Nama aplikasi dari Qiscus Dashboard">
						<span class="config-label">
							<span class="config-icon">üì±</span>
							App Name
						</span>
						<span class="config-value" id="app-name">-</span>
						<span class="config-desc">Nama aplikasi Qiscus</span>
					</div>

					<div class="config-item" title="Interval waktu untuk sinkronisasi data (dalam milidetik)">
						<span class="config-label">
							<span class="config-icon">‚è±Ô∏è</span>
							Sync Interval
						</span>
						<span class="config-value" id="sync-interval">-</span>
						<span class="config-desc">Waktu jeda antar sinkronisasi</span>
					</div>

					<div class="config-item" title="Sinkronisasi otomatis saat koneksi terhubung">
						<span class="config-label">
							<span class="config-icon">üîÑ</span>
							Sync On Connect
						</span>
						<span class="config-value" id="sync-on-connect">-</span>
						<span class="config-desc">Waktu sinkronisasi otomatis saat koneksi terhubung</span>
					</div>

					<div class="config-item" title="Menggunakan Load Balancer untuk distribusi beban">
						<span class="config-label">
							<span class="config-icon">‚öñÔ∏è</span>
							Load Balancer
						</span>
						<span class="config-value" id="enable-lb">-</span>
						<span class="config-desc">Distribusi beban server</span>
					</div>

					<div class="config-item" title="Fitur real-time messaging menggunakan MQTT">
						<span class="config-label">
							<span class="config-icon">‚ö°</span>
							Realtime
						</span>
						<span class="config-value" id="enable-realtime">-</span>
						<span class="config-desc">Pesan instan via MQTT</span>
					</div>

					<div class="config-item" title="Pengecekan status koneksi real-time secara berkala">
						<span class="config-label">
							<span class="config-icon">üîç</span>
							Realtime Check
						</span>
						<span class="config-value" id="enable-realtime-check">-</span>
						<span class="config-desc">Monitor koneksi berkala</span>
					</div>

					<div class="config-item" title="Sinkronisasi data pesan dan room secara otomatis">
						<span class="config-label">
							<span class="config-icon">üîÉ</span>
							Sync
						</span>
						<span class="config-value" id="enable-sync">-</span>
						<span class="config-desc">Sinkronisasi data otomatis</span>
					</div>

					<div class="config-item" title="Sinkronisasi event dan notifikasi">
						<span class="config-label">
							<span class="config-icon">üì°</span>
							Sync Event
						</span>
						<span class="config-value" id="enable-sync-event">-</span>
						<span class="config-desc">Sinkronisasi event & notif</span>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- App ID Setup Form -->
	<div id="app-id-setup" class="app-id-setup-container">
		<div class="app-id-card">
			<div class="app-id-header">
				<h1>üöÄ Qiscus Chat SDK</h1>
				<p>Enter your App ID to get started</p>
			</div>
			<div class="app-id-form">
				<div class="input-group">
					<label for="app-id-input">App ID</label>
					<input type="text" id="app-id-input" placeholder="Enter your Qiscus App ID" value="sdksample" />
					<div class="helper-text">You can find your App ID in the Qiscus Dashboard</div>
				</div>
				<button type="button" id="init-app-btn" class="primary-btn pill">
					Initialize Chat
				</button>
			</div>
		</div>
	</div>

	<!-- Chat Widget (hidden initially) -->
	<button type="button" class="toggle-widget-btn" style="display: none;">Chat</button>
	<div id="qiscus-widget" class="widget-container">
		<div class="title-bar">
			Qiscus Chat SDK Sample UI
			<button type="button" class="close-btn">
				<i class="fas fa-chevron-down"></i>
			</button>
		</div>
		<input type="file" id="input-image" accept="image/*" style="display: none" />
		<input type="file" id="input-file" style="display: none" />
		<div class="widget-content" id="widget-content"></div>
	</div>

	<!-- <script>
  // Check that service workers are supported
  if ('serviceWorker' in navigator) {
    // Use the window load event to keep the page load performant
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/service-worker.js')
    })
  }
</script> -->

	<script src="https://unpkg.com/lodash"></script>
	<!-- <script src="js/lib/qiscus-sdk-core.min.js"></script> -->
	<!-- <script src="js/lib/qiscus-sdk-core.js"></script> -->
	<!-- <script src="js/lib/QiscusSDKCore.min.js"></script> -->
	<script src="js/lib/qiscus-sdk-javascript.umd.js"></script>
	<script></script>

	<!-- For local development -->
	<!-- <script src="http://localhost:8080/qiscus-sdk-core.min.js"></script> -->
	<!-- <script src="http://localhost:1234/qiscus-sdk-core.js"></script> -->
	<!-- <script src="http://localhost:1234/qiscus-sdk-core.min.js"></script> -->
	<!-- <script src="http://localhost:1235/qiscus-sdk-javascript.umd.js"></script> -->
	<script src="https://unpkg.com/qiscus-sdk-core@latest"></script>
	<!-- <script src="https://unpkg.com/qiscus-sdk-core@2.6.4"></script> -->

	<!-- For deployment with beta sdk version -->
	<!-- <script src="https://unpkg.com/qiscus-sdk-core@latest"></script> -->
	<!-- <script src="https://unpkg.com/qiscus-sdk-core@2.9.7/dist/qiscus-sdk-core.min.js"></script> -->
	<!-- <script src="https://unpkg.com/qiscus-sdk-core@2.9.9/dist/qiscus-sdk-core.min.js"></script> -->
	<!-- <script src="https://unpkg.com/qiscus-sdk-core@2.9.10/dist/qiscus-sdk-core.min.js"></script> -->

	<script src="https://unpkg.com/showdown@1.9.1/dist/showdown.js"></script>
	<script>
		var qs = window.location.search
			.split('?')
			.filter((it) => it?.length > 0)
			.map((it) => it.split('='))
			.map(([key, value]) => ({ [key]: value }))
			.reduce((it, acc) => ({ ...acc, ...it }), {})

		window.APP_ID = qs['appId'] ?? ''
		window.BASE_URL = qs['baseUrl']
		window.BROKER_URL = qs['brokerUrl']
	</script>
	<script src="js/lib/require.js" data-main="js/main.js"></script>
</body>

</html>